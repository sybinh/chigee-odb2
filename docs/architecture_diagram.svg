<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .box-text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .small-text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .connection { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .box { fill: #e1f5fe; stroke: #0277bd; stroke-width: 2; rx: 5; }
      .module-box { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; rx: 5; }
      .hw-box { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; rx: 5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" class="title">Chigee XR2 OBD2 Module - Professional Architecture</text>
  
  <!-- Chigee XR2 Device -->
  <rect x="300" y="60" width="200" height="60" class="box"/>
  <text x="400" y="85" class="box-text">Chigee XR2 Radar</text>
  <text x="400" y="105" class="small-text">(HUD Display Device)</text>
  
  <!-- Bluetooth Connection -->
  <line x1="400" y1="120" x2="400" y2="160" class="connection"/>
  <text x="430" y="145" class="small-text">Bluetooth SPP</text>
  
  <!-- ESP32 Main Module -->
  <rect x="250" y="170" width="300" height="280" class="hw-box"/>
  <text x="400" y="195" class="box-text">ESP32-WROOM-32 Module</text>
  
  <!-- Configuration Layer -->
  <rect x="270" y="210" width="120" height="50" class="box"/>
  <text x="330" y="230" class="small-text">project_config.h</text>
  <text x="330" y="245" class="small-text">Features, Pins, Debug</text>
  
  <rect x="410" y="210" width="120" height="50" class="box"/>
  <text x="470" y="230" class="small-text">hardware_config.h</text>
  <text x="470" y="245" class="small-text">ESP32, Power, Pins</text>
  
  <!-- Core Modules -->
  <rect x="270" y="280" width="80" height="80" class="module-box"/>
  <text x="310" y="300" class="small-text">Bluetooth</text>
  <text x="310" y="315" class="small-text">Manager</text>
  <text x="310" y="335" class="small-text">• Spoofing</text>
  <text x="310" y="350" class="small-text">• Security</text>
  
  <rect x="360" y="280" width="80" height="80" class="module-box"/>
  <text x="400" y="300" class="small-text">OBD2</text>
  <text x="400" y="315" class="small-text">Handler</text>
  <text x="400" y="335" class="small-text">• AT Commands</text>
  <text x="400" y="350" class="small-text">• PID Process</text>
  
  <rect x="450" y="280" width="80" height="80" class="module-box"/>
  <text x="490" y="300" class="small-text">CAN</text>
  <text x="490" y="315" class="small-text">Interface</text>
  <text x="490" y="335" class="small-text">• TWAI Driver</text>
  <text x="490" y="350" class="small-text">• Filtering</text>
  
  <!-- Module Connections -->
  <line x1="350" y1="320" x2="360" y2="320" class="connection"/>
  <line x1="440" y1="320" x2="450" y2="320" class="connection"/>
  
  <!-- CAN Bus Connection -->
  <line x1="400" y1="450" x2="400" y2="490" class="connection"/>
  <text x="430" y="475" class="small-text">CAN Bus</text>
  
  <!-- Vehicle ECU -->
  <rect x="300" y="500" width="200" height="80" class="hw-box"/>
  <text x="400" y="525" class="box-text">Vehicle OBD2 Port</text>
  <text x="400" y="545" class="small-text">Engine Control Unit</text>
  <text x="400" y="565" class="small-text">Real Vehicle Data</text>
  
  <!-- Data Flow Arrows -->
  <path d="M 320 160 Q 280 180 280 220" class="connection"/>
  <path d="M 350 260 Q 350 270 360 280" class="connection"/>
  <path d="M 480 160 Q 520 180 520 220" class="connection"/>
  
  <!-- Professional Features Box -->
  <rect x="580" y="170" width="200" height="280" class="box"/>
  <text x="680" y="195" class="box-text">Professional Features</text>
  
  <text x="680" y="220" class="small-text">✓ Modular Architecture</text>
  <text x="680" y="240" class="small-text">✓ Hardware Abstraction</text>
  <text x="680" y="260" class="small-text">✓ ELM327 Spoofing</text>
  <text x="680" y="280" class="small-text">✓ Real-time Simulation</text>
  <text x="680" y="300" class="small-text">✓ PlatformIO Build</text>
  <text x="680" y="320" class="small-text">✓ Error Handling</text>
  <text x="680" y="340" class="small-text">✓ Security Features</text>
  <text x="680" y="360" class="small-text">✓ Statistics Tracking</text>
  <text x="680" y="380" class="small-text">✓ Professional Tools</text>
  <text x="680" y="400" class="small-text">✓ International Docs</text>
  
  <!-- Bottom Note -->
  <text x="400" y="595" class="small-text">Professional modular embedded system replacing amateur Arduino approach</text>
</svg>