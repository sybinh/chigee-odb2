# blexploit Setup & XR-2 Monitoring Guide

## üöÄ Quick Setup Commands

### 1. Clone blexploit (if not done)
```bash
git clone https://github.com/schoi1337/blexploit.git
cd blexploit
```

### 2. Setup Python Environment
```bash
python -m venv venv
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate
```

### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

### 4. Test Installation
```bash
python main.py --help
```

---

## üéØ XR-2 Monitoring Commands

### Monitor XR-2 Scanning Behavior
```bash
# Start passive monitoring (60 seconds)
python main.py passive-scan --timeout 60 --unsafe

# Alternative: Longer monitoring session
python main.py passive-scan --timeout 300 --unsafe
```

### Analyze XR-2 GATT Services
```bash
# Read XR-2 services/characteristics
python main.py read-gatt --address 34:76:5a:02:c0:33 --uuid 1800

# Enumerate all services
python main.py read-gatt --address 34:76:5a:02:c0:33 --uuid 1801
```

### Generate Analysis Report
```bash
# Create detailed HTML report
python main.py passive-scan --timeout 60 --unsafe --output xr2_analysis.html
```

---

## üìã Testing Procedure

### Step 1: Start Monitoring
Run blexploit in terminal:
```bash
python main.py passive-scan --timeout 120 --unsafe
```

### Step 2: XR-2 Actions (YOU DO THIS)
1. **Turn on XR-2**
2. **Go to OBD/Bluetooth settings**
3. **Start device scan/search**
4. **Wait for scan to complete**
5. **Try to connect to any device (even if none found)**

### Step 3: Analyze Results
- blexploit will capture all XR-2 BLE activity
- Look for device scan patterns
- Identify service UUIDs XR-2 expects
- Analyze connection attempts

---

## üîç What to Watch For

### In blexploit Output:
- **Device discovery packets** from XR-2
- **Service UUID filtering** (what XR-2 looks for)
- **Connection attempt patterns**
- **GATT read/write operations**
- **Error messages or rejections**

### Key Information:
- **Service UUIDs** XR-2 expects from OBD devices
- **Device name patterns** XR-2 accepts
- **Connection sequence** XR-2 follows
- **Data format** XR-2 expects

---

## üí° Expected Findings

### Likely Discoveries:
1. **Specific OBD Service UUIDs** XR-2 filters for
2. **Device naming requirements** (not just any name)
3. **GATT characteristic structure** for OBD data
4. **Authentication/handshake requirements**

### Use Findings to Fix ESP32:
- Add correct **Service UUIDs**
- Use proper **device naming**
- Implement expected **GATT structure**
- Add required **characteristics**

---

## üö® Troubleshooting

### If blexploit fails:
```bash
# Check Bluetooth is working
python -c "import bleak; print('BLE available')"

# Try different backend
python main.py passive-scan --timeout 30 --backend winrt  # Windows
```

### If no XR-2 detected:
- Make sure XR-2 is in range (<10m)
- Ensure XR-2 Bluetooth is enabled
- Try longer scan timeout (--timeout 300)

---

## ‚ö° Ready Commands (Copy-Paste)

```bash
# Quick start
cd blexploit
venv\Scripts\activate
python main.py passive-scan --timeout 120 --unsafe
```

**Then turn on XR-2 and start OBD scanning!** üéØ